<html lang="vi"><head>
    <meta charset="UTF-8">
    <title>Upload Multiple Images</title>
    <link rel="icon" href="../favicon.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="css/upload_photos.css">
</head>

<body>
    <div class="toolbar">
        <img src="z5769584825398_2ee4d68bafb2bb11093cc3b683cab452.jpg" alt="Logo" class="logo">
        <button class="btn">Thanh công cụ</button>
    </div>
    <h2>Upload Multiple Images</h2>
    <form action="save_photos.php" method="POST" enctype="multipart/form-data" id="uploadForm">
        <input type="file" name="images[]" id="imageInput" accept="image/*" multiple="" required="">
        <div class="image-preview" id="imagePreview"><div class="image-item">
                    <img src="https://thanhnien.mediacdn.vn/Uploaded/nhutnq/2022_10_02/220928180903-03-dall-e-ai-2189.jpg">
                    <button type="button" class="remove-btn" data-index="0">×</button>
                    <input type="text" name="names[]" placeholder="Enter name" required="">
                    <textarea name="descriptions[]" placeholder="Enter description"></textarea>
                    <select name="categories[]" required="">
                        <option value="">Select Category</option>
                        <option value="18">4k Wallpaper</option><option value="47">Abstract</option><option value="59">Adventure</option><option value="30">AI</option><option value="54">Animals</option><option value="62">Anime</option><option value="42">Architecture</option><option value="38">Autumn</option><option value="1">Beach</option><option value="19">Beautiful Nature Images</option><option value="55">Birds</option><option value="20">Blue Sky</option><option value="41">Cityscape</option><option value="2">Cliff</option><option value="22">Cloud</option><option value="21">Cloudiness</option><option value="23">Cloudscape</option><option value="24">Cloudy</option><option value="61">Culture</option><option value="3">Dawn</option><option value="25">Daytime</option><option value="51">Drink</option><option value="26">Environment</option><option value="60">Festivals</option><option value="37">Flowers</option><option value="50">Food</option><option value="32">Forest</option><option value="45">Galaxy</option><option value="56">Insects</option><option value="4">Landscape</option><option value="33">Mountain</option><option value="16">Nature</option><option value="27">Nature Background</option><option value="28">Nature Phorography</option><option value="43">Night Sky</option><option value="5">Ocean</option><option value="6">Outdoors</option><option value="48">Patterns</option><option value="52">People</option><option value="53">Portraits</option><option value="34">River</option><option value="7">Rock</option><option value="8">Sand</option><option value="9">Sea</option><option value="10">Seashore</option><option value="46">Space</option><option value="58">Sports</option><option value="40">Spring</option><option value="44">Stars</option><option value="11">Summer</option><option value="12">Sun</option><option value="13">Sunset</option><option value="49">Textures</option><option value="14">Travel Photos</option><option value="57">Underwater</option><option value="15">Water</option><option value="35">Waterfall</option><option value="36">Wildlife</option><option value="39">Winter</option>
                    </select>
                    <input type="text" name="tags[]" placeholder="Enter tags (comma-separated)">
                </div><div class="image-item">
                    <img src="https://thanhnien.mediacdn.vn/Uploaded/nhutnq/2022_10_02/220928180903-03-dall-e-ai-2189.jpg">
                    <button type="button" class="remove-btn" data-index="1">×</button>
                    <input type="text" name="names[]" placeholder="Enter name" required="">
                    <textarea name="descriptions[]" placeholder="Enter description"></textarea>
                    <select name="categories[]" required="">
                        <option value="">Select Category</option>
                        <option value="18">4k Wallpaper</option><option value="47">Abstract</option><option value="59">Adventure</option><option value="30">AI</option><option value="54">Animals</option><option value="62">Anime</option><option value="42">Architecture</option><option value="38">Autumn</option><option value="1">Beach</option><option value="19">Beautiful Nature Images</option><option value="55">Birds</option><option value="20">Blue Sky</option><option value="41">Cityscape</option><option value="2">Cliff</option><option value="22">Cloud</option><option value="21">Cloudiness</option><option value="23">Cloudscape</option><option value="24">Cloudy</option><option value="61">Culture</option><option value="3">Dawn</option><option value="25">Daytime</option><option value="51">Drink</option><option value="26">Environment</option><option value="60">Festivals</option><option value="37">Flowers</option><option value="50">Food</option><option value="32">Forest</option><option value="45">Galaxy</option><option value="56">Insects</option><option value="4">Landscape</option><option value="33">Mountain</option><option value="16">Nature</option><option value="27">Nature Background</option><option value="28">Nature Phorography</option><option value="43">Night Sky</option><option value="5">Ocean</option><option value="6">Outdoors</option><option value="48">Patterns</option><option value="52">People</option><option value="53">Portraits</option><option value="34">River</option><option value="7">Rock</option><option value="8">Sand</option><option value="9">Sea</option><option value="10">Seashore</option><option value="46">Space</option><option value="58">Sports</option><option value="40">Spring</option><option value="44">Stars</option><option value="11">Summer</option><option value="12">Sun</option><option value="13">Sunset</option><option value="49">Textures</option><option value="14">Travel Photos</option><option value="57">Underwater</option><option value="15">Water</option><option value="35">Waterfall</option><option value="36">Wildlife</option><option value="39">Winter</option>
                    </select>
                    <input type="text" name="tags[]" placeholder="Enter tags (comma-separated)">
                </div><div class="image-item">
                    <img src="https://thanhnien.mediacdn.vn/Uploaded/nhutnq/2022_10_02/220928180903-03-dall-e-ai-2189.jpg">
                    <button type="button" class="remove-btn" data-index="2">×</button>
                    <input type="text" name="names[]" placeholder="Enter name" required="">
                    <textarea name="descriptions[]" placeholder="Enter description"></textarea>
                    <select name="categories[]" required="">
                        <option value="">Select Category</option>
                        <option value="18">4k Wallpaper</option><option value="47">Abstract</option><option value="59">Adventure</option><option value="30">AI</option><option value="54">Animals</option><option value="62">Anime</option><option value="42">Architecture</option><option value="38">Autumn</option><option value="1">Beach</option><option value="19">Beautiful Nature Images</option><option value="55">Birds</option><option value="20">Blue Sky</option><option value="41">Cityscape</option><option value="2">Cliff</option><option value="22">Cloud</option><option value="21">Cloudiness</option><option value="23">Cloudscape</option><option value="24">Cloudy</option><option value="61">Culture</option><option value="3">Dawn</option><option value="25">Daytime</option><option value="51">Drink</option><option value="26">Environment</option><option value="60">Festivals</option><option value="37">Flowers</option><option value="50">Food</option><option value="32">Forest</option><option value="45">Galaxy</option><option value="56">Insects</option><option value="4">Landscape</option><option value="33">Mountain</option><option value="16">Nature</option><option value="27">Nature Background</option><option value="28">Nature Phorography</option><option value="43">Night Sky</option><option value="5">Ocean</option><option value="6">Outdoors</option><option value="48">Patterns</option><option value="52">People</option><option value="53">Portraits</option><option value="34">River</option><option value="7">Rock</option><option value="8">Sand</option><option value="9">Sea</option><option value="10">Seashore</option><option value="46">Space</option><option value="58">Sports</option><option value="40">Spring</option><option value="44">Stars</option><option value="11">Summer</option><option value="12">Sun</option><option value="13">Sunset</option><option value="49">Textures</option><option value="14">Travel Photos</option><option value="57">Underwater</option><option value="15">Water</option><option value="35">Waterfall</option><option value="36">Wildlife</option><option value="39">Winter</option>
                    </select>
                    <input type="text" name="tags[]" placeholder="Enter tags (comma-separated)">
                </div><div class="image-item">
                    <img src="https://thanhnien.mediacdn.vn/Uploaded/nhutnq/2022_10_02/220928180903-03-dall-e-ai-2189.jpg">
                    <button type="button" class="remove-btn" data-index="3">×</button>
                    <input type="text" name="names[]" placeholder="Enter name" required="">
                    <textarea name="descriptions[]" placeholder="Enter description"></textarea>
                    <select name="categories[]" required="">
                        <option value="">Select Category</option>
                        <option value="18">4k Wallpaper</option><option value="47">Abstract</option><option value="59">Adventure</option><option value="30">AI</option><option value="54">Animals</option><option value="62">Anime</option><option value="42">Architecture</option><option value="38">Autumn</option><option value="1">Beach</option><option value="19">Beautiful Nature Images</option><option value="55">Birds</option><option value="20">Blue Sky</option><option value="41">Cityscape</option><option value="2">Cliff</option><option value="22">Cloud</option><option value="21">Cloudiness</option><option value="23">Cloudscape</option><option value="24">Cloudy</option><option value="61">Culture</option><option value="3">Dawn</option><option value="25">Daytime</option><option value="51">Drink</option><option value="26">Environment</option><option value="60">Festivals</option><option value="37">Flowers</option><option value="50">Food</option><option value="32">Forest</option><option value="45">Galaxy</option><option value="56">Insects</option><option value="4">Landscape</option><option value="33">Mountain</option><option value="16">Nature</option><option value="27">Nature Background</option><option value="28">Nature Phorography</option><option value="43">Night Sky</option><option value="5">Ocean</option><option value="6">Outdoors</option><option value="48">Patterns</option><option value="52">People</option><option value="53">Portraits</option><option value="34">River</option><option value="7">Rock</option><option value="8">Sand</option><option value="9">Sea</option><option value="10">Seashore</option><option value="46">Space</option><option value="58">Sports</option><option value="40">Spring</option><option value="44">Stars</option><option value="11">Summer</option><option value="12">Sun</option><option value="13">Sunset</option><option value="49">Textures</option><option value="14">Travel Photos</option><option value="57">Underwater</option><option value="15">Water</option><option value="35">Waterfall</option><option value="36">Wildlife</option><option value="39">Winter</option>
                    </select>
                    <input type="text" name="tags[]" placeholder="Enter tags (comma-separated)">
                </div></div>
        <button type="submit" name="upload">Upload</button>
    </form>

    <script>
        const categoriesOptions = `<option value="18">4k Wallpaper</option><option value="47">Abstract</option><option value="59">Adventure</option><option value="30">AI</option><option value="54">Animals</option><option value="62">Anime</option><option value="42">Architecture</option><option value="38">Autumn</option><option value="1">Beach</option><option value="19">Beautiful Nature Images</option><option value="55">Birds</option><option value="20">Blue Sky</option><option value="41">Cityscape</option><option value="2">Cliff</option><option value="22">Cloud</option><option value="21">Cloudiness</option><option value="23">Cloudscape</option><option value="24">Cloudy</option><option value="61">Culture</option><option value="3">Dawn</option><option value="25">Daytime</option><option value="51">Drink</option><option value="26">Environment</option><option value="60">Festivals</option><option value="37">Flowers</option><option value="50">Food</option><option value="32">Forest</option><option value="45">Galaxy</option><option value="56">Insects</option><option value="4">Landscape</option><option value="33">Mountain</option><option value="16">Nature</option><option value="27">Nature Background</option><option value="28">Nature Phorography</option><option value="43">Night Sky</option><option value="5">Ocean</option><option value="6">Outdoors</option><option value="48">Patterns</option><option value="52">People</option><option value="53">Portraits</option><option value="34">River</option><option value="7">Rock</option><option value="8">Sand</option><option value="9">Sea</option><option value="10">Seashore</option><option value="46">Space</option><option value="58">Sports</option><option value="40">Spring</option><option value="44">Stars</option><option value="11">Summer</option><option value="12">Sun</option><option value="13">Sunset</option><option value="49">Textures</option><option value="14">Travel Photos</option><option value="57">Underwater</option><option value="15">Water</option><option value="35">Waterfall</option><option value="36">Wildlife</option><option value="39">Winter</option>`;

        document.getElementById('imageInput').addEventListener('change', async function (event) {
            const files = Array.from(event.target.files);
            const imagePreview = document.getElementById('imagePreview');
            imagePreview.innerHTML = '';

            for (let index = 0; index < files.length; index++) {
                const file = files[index];
                const reader = new FileReader();

                await new Promise(resolve => {
                    reader.onload = function (e) {
                        const div = document.createElement('div');
                        div.classList.add('image-item');
                        div.innerHTML = `
                    <img src="${e.target.result}" alt="Image Preview">
                    <button type="button" class="remove-btn" data-index="${index}">&times;</button>
                    <input type="text" name="names[]" placeholder="Enter name" required>
                    <textarea name="descriptions[]" placeholder="Enter description"></textarea>
                    <select name="categories[]" required>
                        <option value="">Select Category</option>
                        ${categoriesOptions}
                    </select>
                    <input type="text" name="tags[]" placeholder="Enter tags (comma-separated)">
                `;
                        imagePreview.appendChild(div);

                        div.querySelector('.remove-btn').addEventListener('click', function () {
                            files.splice(index, 1);
                            div.remove();

                            const updatedFiles = new DataTransfer();
                            files.forEach(f => updatedFiles.items.add(f));
                            document.getElementById('imageInput').files = updatedFiles.files;
                        });
                        resolve();
                    };
                    reader.readAsDataURL(file);
                });
            }
        });

    </script>


</body></html>